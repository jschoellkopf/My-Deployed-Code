{% extends 'base.html' %}

{% block content %}

    <form class="col-5" action="/order/update/{{order.id}}" method="POST">
        <div class="d-flex flex-row justify-content-between align-items-center">
            <h1>Change Order</h1>
            <a class="btn btn-dark" href="/orders/clear/session" role="button">Back to Purchases</a>
        </div>

        <input type="hidden" name="id" value="{{order.id}}">

        <div class="mb-3">
            <label for="name" class="form-label">Customer Name</label>
            <input type="text" class="form-control" name="name" value="{{order.name}}">
            {% with messages = get_flashed_messages(category_filter='name') %}     
                {% if messages %}                            
                    {% for message in messages %}            
                        <p class="alert alert-danger p-1">{{message}}</p>                   
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        <div class="mb-3">
            <label for="type" class="form-label">Type</label>
            <input type="text" class="form-control" name="type" value="{{order.type}}">
            {% with messages = get_flashed_messages(category_filter='type') %}     
                {% if messages %}                            
                    {% for message in messages %}            
                        <p class="alert alert-danger p-1">{{message}}</p>                   
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        <div class="mb-3">
            <label for="amount" class="form-label">Number of Boxes</label>
            <input type="number" class="form-control" name="amount" value="{{order.amount}}">
            {% with messages = get_flashed_messages(category_filter='amount') %}     
                {% if messages %}                            
                    {% for message in messages %}            
                        <p class="alert alert-danger p-1">{{message}}</p>                   
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        <div class="d-flex align-items-center">
            <button type="submit" class="btn btn-primary me-3">Update order</button>
        </div>

    </form>


{% endblock  %}